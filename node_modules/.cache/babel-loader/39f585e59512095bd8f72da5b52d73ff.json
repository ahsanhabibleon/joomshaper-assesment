{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useRef}from'react';import{useSelector,useDispatch}from'react-redux';import{connect}from'react-redux';import{fetchPhotos as _fetchPhotos}from'../../../redux/actions/photoActions';import PhotoBox from'../PhotoBox/PhotoBox';import{replaceImgSrc,_handleChangePhoto}from'../../../redux/actions/addNewPhotoToCanvasActions';import\"./PhotoBuffet.scss\";function PhotoBuffet(_ref){var galleryPhotos=_ref.galleryPhotos,fetchPhotos=_ref.fetchPhotos;var photoBuffetRef=useRef();var dispatch=useDispatch();var changePhotoOption=useSelector(function(state){return state.changePhotoOption;});useEffect(function(){addEventListenerToBuffet();},[changePhotoOption]);useEffect(function(){fetchPhotos();},[]);var addChangePhotoEventListener=function addChangePhotoEventListener(e){dispatch(replaceImgSrc(changePhotoOption.imgSrc,e.target.src));dispatch(_handleChangePhoto(false,changePhotoOption.imgSrc));};var addEventListenerToBuffet=function addEventListenerToBuffet(){changePhotoOption.status===true?photoBuffetRef.current.addEventListener('click',addChangePhotoEventListener):photoBuffetRef.current.removeEventListener('click',addChangePhotoEventListener);};return/*#__PURE__*/_jsx(\"div\",{className:\"photoBuffet\",ref:photoBuffetRef,children:galleryPhotos.photos.map(function(photo){return/*#__PURE__*/_jsx(PhotoBox,{name:\"Glass\",imgSrc:photo.img,imgAlt:photo.name,imgId:photo.char_id,imgIndex:photo.char_id-1},photo.char_id);})});}var mapStateToProps=function mapStateToProps(state){return{galleryPhotos:state.photos};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchPhotos:function fetchPhotos(){return dispatch(_fetchPhotos());}};};export default connect(mapStateToProps,mapDispatchToProps)(PhotoBuffet);","map":{"version":3,"sources":["/Users/ahsan/Documents/Ahsan/projects/react-photo-gallery-with-photo-filter/src/components/Global/PhotoBuffet/PhotoBuffet.js"],"names":["React","useEffect","useRef","useSelector","useDispatch","connect","fetchPhotos","PhotoBox","replaceImgSrc","_handleChangePhoto","PhotoBuffet","galleryPhotos","photoBuffetRef","dispatch","changePhotoOption","state","addEventListenerToBuffet","addChangePhotoEventListener","e","imgSrc","target","src","status","current","addEventListener","removeEventListener","photos","map","photo","img","name","char_id","mapStateToProps","mapDispatchToProps"],"mappings":"2CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,WAAW,GAAXA,CAAAA,YAAT,KAA4B,qCAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,OAASC,aAAT,CAAwBC,kBAAxB,KAAkD,mDAAlD,CACA,MAAO,oBAAP,CAEA,QAASC,CAAAA,WAAT,MAAqD,IAA9BC,CAAAA,aAA8B,MAA9BA,aAA8B,CAAfL,WAAe,MAAfA,WAAe,CACjD,GAAMM,CAAAA,cAAc,CAAGV,MAAM,EAA7B,CACA,GAAMW,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,iBAAiB,CAAGX,WAAW,CAAC,SAAAY,KAAK,QAAIA,CAAAA,KAAK,CAACD,iBAAV,EAAN,CAArC,CAEAb,SAAS,CAAC,UAAM,CACZe,wBAAwB,GAC3B,CAFQ,CAEN,CAACF,iBAAD,CAFM,CAAT,CAIAb,SAAS,CAAC,UAAM,CACZK,WAAW,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMW,CAAAA,2BAA2B,CAAG,QAA9BA,CAAAA,2BAA8B,CAACC,CAAD,CAAO,CACvCL,QAAQ,CAACL,aAAa,CAACM,iBAAiB,CAACK,MAAnB,CAA2BD,CAAC,CAACE,MAAF,CAASC,GAApC,CAAd,CAAR,CACAR,QAAQ,CAACJ,kBAAkB,CAAC,KAAD,CAAQK,iBAAiB,CAACK,MAA1B,CAAnB,CAAR,CACH,CAHD,CAIA,GAAMH,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,EAAM,CACnCF,iBAAiB,CAACQ,MAAlB,GAA6B,IAA7B,CACIV,cAAc,CAACW,OAAf,CAAuBC,gBAAvB,CAAwC,OAAxC,CAAiDP,2BAAjD,CADJ,CAGQL,cAAc,CAACW,OAAf,CAAuBE,mBAAvB,CAA2C,OAA3C,CAAoDR,2BAApD,CAHR,CAKH,CAND,CAQA,mBAAO,YAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAEL,cAAlC,UACFD,aAAa,CAACe,MAAd,CAAqBC,GAArB,CAAyB,SAAAC,KAAK,qBAC3B,KAAC,QAAD,EAAU,IAAI,CAAC,OAAf,CAA2C,MAAM,CAAEA,KAAK,CAACC,GAAzD,CAA8D,MAAM,CAAED,KAAK,CAACE,IAA5E,CAAkF,KAAK,CAAEF,KAAK,CAACG,OAA/F,CAAwG,QAAQ,CAAEH,KAAK,CAACG,OAAN,CAAgB,CAAlI,EAA4BH,KAAK,CAACG,OAAlC,CAD2B,EAA9B,CADE,EAAP,CAKH,CAED,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAjB,KAAK,CAAI,CAC7B,MAAO,CACHJ,aAAa,CAAEI,KAAK,CAACW,MADlB,CAAP,CAGH,CAJD,CAKA,GAAMO,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAApB,QAAQ,CAAI,CACnC,MAAO,CACHP,WAAW,CAAE,6BAAMO,CAAAA,QAAQ,CAACP,YAAW,EAAZ,CAAd,EADV,CAAP,CAGH,CAJD,CAKA,cAAeD,CAAAA,OAAO,CAClB2B,eADkB,CAElBC,kBAFkB,CAAP,CAGbvB,WAHa,CAAf","sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { connect } from 'react-redux'\nimport { fetchPhotos } from '../../../redux/actions/photoActions'\nimport PhotoBox from '../PhotoBox/PhotoBox'\nimport { replaceImgSrc, _handleChangePhoto } from '../../../redux/actions/addNewPhotoToCanvasActions'\nimport \"./PhotoBuffet.scss\"\n\nfunction PhotoBuffet({ galleryPhotos, fetchPhotos }) {\n    const photoBuffetRef = useRef()\n    const dispatch = useDispatch()\n    const changePhotoOption = useSelector(state => state.changePhotoOption)\n\n    useEffect(() => {\n        addEventListenerToBuffet()\n    }, [changePhotoOption])\n\n    useEffect(() => {\n        fetchPhotos()\n    }, [])\n\n    const addChangePhotoEventListener = (e) => {\n        dispatch(replaceImgSrc(changePhotoOption.imgSrc, e.target.src))\n        dispatch(_handleChangePhoto(false, changePhotoOption.imgSrc))\n    }\n    const addEventListenerToBuffet = () => {\n        changePhotoOption.status === true ? (\n            photoBuffetRef.current.addEventListener('click', addChangePhotoEventListener)\n        ) : (\n                photoBuffetRef.current.removeEventListener('click', addChangePhotoEventListener)\n            )\n    }\n\n    return <div className=\"photoBuffet\" ref={photoBuffetRef}>\n        {galleryPhotos.photos.map(photo => (\n            <PhotoBox name=\"Glass\" key={photo.char_id} imgSrc={photo.img} imgAlt={photo.name} imgId={photo.char_id} imgIndex={photo.char_id - 1} />\n        ))}\n    </div>\n}\n\nconst mapStateToProps = state => {\n    return {\n        galleryPhotos: state.photos\n    }\n}\nconst mapDispatchToProps = dispatch => {\n    return {\n        fetchPhotos: () => dispatch(fetchPhotos())\n    }\n}\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(PhotoBuffet)\n"]},"metadata":{},"sourceType":"module"}